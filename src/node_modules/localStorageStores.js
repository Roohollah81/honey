import { get } from "svelte/store";
import { writable } from './LocalStorageStore.js';

// First param is the local storage key.
// Second param is the initial value.
export let page = writable('page', 'home');
let prevPage = writable('prevPage', 'home');
export let homePageTopNavSelection = writable('homePageTopNavSelection', 'home');
export let homePageSelectorSelection = writable('homePageSelectorSelection', 'CHALLENGE');
export let homePageOverviewTabSelection = writable('homePageOverviewTabSelection', 'user');
export let searchPageSelectorSelection = writable('searchPageSelectorSelection', 'CHALLENGE');

export const changePage = to => {
    prevPage.set(get(page) || 'home');
    page.set(to);
};
export const goBack = () => {
    if (get(page) === 'search')
        searchCategory.set(get(prevSearchCategory) || 'all');
    else
        page.set(get(prevPage) || 'home');
};

export let searchText = writable('searchText', '');
export let searchCategory = writable('searchCategory', 'all');
export let prevSearchCategory = writable('prevSearchCategory', 'all');

export const changeSearchCategory = to => {
    prevSearchCategory.set(get(searchCategory) || 'all');
    searchCategory.set(to);
};

export let loginTab = writable('loginTab', '1');
export const changeLoginTab = to => {
    loginTab.set(to);
};


export let isFollowerAdded = writable('isFollowerAdded', 'true');

export let isAffiliationAdded = writable('isAffiliationAdded', 'false');
